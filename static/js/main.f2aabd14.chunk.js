(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(73)},34:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/maisema_EevaHelle_IMG_9089.3be67a88.jpg"},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(26),s=a.n(r),o=a(27),l=a(2),c=a(3),u=a(6),m=a(4),v=a(8),d=a(5),h=(a(34),a(10)),p=a.n(h),g=a(1),f=(a(48),a(49),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="Tag";return this.props.selected&&(e+=" Tag-selected"),i.a.createElement("div",{className:e,onClick:this.props.onClick},i.a.createElement("span",{className:"Tag--text"},this.props.text))}}]),t}(n.Component)),E={getKey:function(e){return e.name+"-"+e.host},toggleFavorite:function(e){var t=E.getFavorites(),a=E.getKey(e);return-1!==t.indexOf(a)?E.removeFromFavorites(t,a):E.addToFavorites(t,a),E.getFavorites()},addToFavorites:function(e,t){var a=e.concat([t]);localStorage.setItem("favorites",JSON.stringify(a))},removeFromFavorites:function(e,t){var a=e.filter(function(e){return e!==t});localStorage.setItem("favorites",JSON.stringify(a))},getFavorites:function(){var e=localStorage.getItem("favorites")||JSON.stringify([]);return JSON.parse(e)}},b=E,y={Tutustu:"#f0e105",Perehdy:"#f0a01e",Syvenny:"#f04150"},j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={expanded:!1},a.toggleExpanded=a.toggleExpanded.bind(Object(v.a)(a)),a.handleFavorite=a.handleFavorite.bind(Object(v.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleFavorite",value:function(){var e=this.props,t=e.event;(0,e.onToggleFavorite)(t)}},{key:"isFavorite",value:function(){}},{key:"toggleExpanded",value:function(e){e.preventDefault(),this.setState({expanded:!this.state.expanded})}},{key:"renderTags",value:function(e){return e.map(function(e){return i.a.createElement(f,{key:e,text:e})})}},{key:"render",value:function(){var e=this.props.event,t=this.state.expanded?e.description:e.description.slice(0,150)+"...",a=this.props.isFavorite(e);return i.a.createElement("div",{className:"Event"},i.a.createElement("div",{className:"Event-color",style:{backgroundColor:y[e.level]}}),i.a.createElement("div",{className:"Event-contents"},i.a.createElement("h2",{className:"Event-title"},e.name," "),i.a.createElement("p",{className:"Event-host"},e.host),i.a.createElement("p",{className:"Event-time"},"Kello: ",e.time),i.a.createElement("p",{className:"Event-description"},t,i.a.createElement("br",null),i.a.createElement("span",{className:"Event-expand",onClick:this.toggleExpanded},this.state.expanded?"N\xe4yt\xe4 v\xe4hemm\xe4n":"Lis\xe4\xe4")),i.a.createElement("div",{className:"Event-tags"},this.renderTags(e.tags)),i.a.createElement("span",{onClick:this.handleFavorite,className:"Event-favorite"},a?"Poista suosikeista":"Lis\xe4\xe4 suosikkeihin")))}}]),t}(n.Component),O=(a(50),{TIMES:{morning:"11:00-12:30",afternoon_long:"14:15-16:45",afternoon_short:"14:15-15:45",afternoon_keynote:"16:00-16:45"},LEVEL_MAPPING:{Tutustu:1,Perehdy:2,Syvenny:3},filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.filter(function(e){if(t.length>0&&0===t.filter(function(t){return e.level===t}).length)return!1;if(a.length>0&&0===a.filter(function(t){return-1!==e.tags.indexOf(t)}).length)return!1;if(n.length>0&&-1===(e.name+"|"+e.description+"|"+e.host).toLowerCase().indexOf(n.toLowerCase()))return!1;return!0})},getEventsForTime:function(e,t){return e.filter(function(e){return e.time===t})},getEventsForTimes:function(e,t){return e.filter(function(e){return-1!==t.indexOf(e.time)})},getTags:function(e){var t=[];return e.forEach(function(e){e.tags.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t},getLevels:function(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e.level)&&t.push(e.level)}),p.a.sortBy(t,function(e){return O.LEVEL_MAPPING[e]||0})}}),F=O,k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderEvents",value:function(){var e=this,t=this.props,a=t.events,n=t.times,r=F.getEventsForTimes(a,n);return 0===r.length?i.a.createElement("div",{className:"EventColumn--empty"},i.a.createElement("p",{className:"EventColumn--empty__text"},"0 hakukriteerej\xe4 vastaavaa ty\xf6pajaa")):r.map(function(t){return i.a.createElement(j,{onToggleFavorite:e.props.onToggleFavorite,isFavorite:e.props.isFavorite,key:t.name+t.host,event:t})})}},{key:"render",value:function(){return i.a.createElement("div",{className:"EventColumn"},i.a.createElement("h2",{className:"EventColumn--title"},this.props.title," ",i.a.createElement("br",null),i.a.createElement("span",null,this.props.times.join(" & "))),i.a.createElement("div",{className:"EventColumn--events"},this.renderEvents()))}}]),t}(n.Component),C=(a(51),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderButtons",value:function(){var e=this;return this.props.options.map(function(t){return i.a.createElement(f,{key:t,text:t,selected:-1!==e.props.selected.indexOf(t),onClick:function(){return e.props.onChange(t)}})})}},{key:"render",value:function(){return i.a.createElement("div",{className:"Filters"},i.a.createElement("h4",{className:"Filters--title"},this.props.title),this.renderButtons())}}]),t}(n.Component)),N=(a(52),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"HeroImage"},i.a.createElement("img",{className:"HeroImage--img",src:a(53)}),i.a.createElement("h1",{className:"HeroImage--title"},"Ty\xf6pajaty\xf6kalu"),i.a.createElement("div",{className:"App--photographer"},i.a.createElement("p",{className:"App--photographer__text"},"Kuva: Eeva Helle")))}}]),t}(n.Component)),T=a(28),x=a.n(T),w={getEvents:function(){return x.a.get("https://www.partio.fi/wp-json/tyopajat/data.json").then(function(e){return e.data})}},L=(a(71),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderItems",value:function(){var e=this,t=this.props,a=t.favorites,n=t.events;return p.a.reduce(a,function(e,t){var a=p.a.find(n,function(e){return b.getKey(e)===t});return a?e.concat(a):e},[]).map(function(t){return i.a.createElement("div",{className:"FavoritesList--item",key:t.name+t.host},i.a.createElement("span",{className:"FavoritesList--item__name"},t.name),i.a.createElement("span",{className:"FavoritesList--item__remove",onClick:function(){return e.props.onToggleFavorite(t)}},"Poista"))})}},{key:"render",value:function(){return i.a.createElement("div",{className:"FavoritesList"},this.renderItems())}}]),t}(n.Component)),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={selectedLevels:[],selectedTags:[],filtered:[],events:[],searchText:"",loading:!0,error:!1,favorites:[],showList:!0},a.handleLevelsChange=a.handleSelectChange("selectedLevels").bind(Object(v.a)(a)),a.handleTagsChange=a.handleSelectChange("selectedTags").bind(Object(v.a)(a)),a.handleSearchChange=a.handleSearchChange.bind(Object(v.a)(a)),a.handleToggleFavorite=a.handleToggleFavorite.bind(Object(v.a)(a)),a.isFavorite=a.isFavorite.bind(Object(v.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.getEvents().then(function(t){e.setState({events:p.a.sortBy(t,"name"),loading:!1})}).catch(function(t){e.setState({error:!0,loading:!1})}),this.setState({favorites:b.getFavorites()})}},{key:"handleToggleFavorite",value:function(e){var t=b.toggleFavorite(e);this.setState({favorites:t})}},{key:"isFavorite",value:function(e){return-1!==this.state.favorites.indexOf(b.getKey(e))}},{key:"handleSearchChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"handleSelectChange",value:function(e){var t=this;return function(a){var n=t.state[e].slice();-1===n.indexOf(a)?n.push(a):n=n.filter(function(e){return e!==a}),t.setState(Object(o.a)({},e,n))}}},{key:"renderEvents",value:function(e){return e.map(function(e){return i.a.createElement(j,{event:e})})}},{key:"renderEventList",value:function(){var e=this.state,t=e.selectedLevels,a=e.selectedTags,n=e.searchText,r=e.events,s=(e.favorites,F.getLevels(r)),o=F.getTags(r),l=F.filter(r,t,a,n);return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.Row,null,i.a.createElement(g.Col,{sm:12},i.a.createElement(C,{title:"Valitse kategoriat: ",options:o.sort(),selected:this.state.selectedTags,onChange:this.handleTagsChange})),i.a.createElement(g.Col,{sm:12,md:6},i.a.createElement(C,{title:"Valitse tasot: ",options:s,selected:this.state.selectedLevels,onChange:this.handleLevelsChange})),i.a.createElement(g.Col,{sm:12,md:6},i.a.createElement("h4",null,"Vapaa haku: "),i.a.createElement("input",{className:"App--searchbox",value:this.state.searchText,onChange:this.handleSearchChange,placeholder:"Hae ty\xf6pajan nimell\xe4, vet\xe4j\xe4ll\xe4 tai kuvauksella"})),i.a.createElement(g.Col,{sm:12},i.a.createElement("h4",null,"N\xe4ytet\xe4\xe4n ",l.length," tapahtumaa"))),i.a.createElement(g.Row,null,i.a.createElement(g.Col,{sm:12,md:4},i.a.createElement(k,{onToggleFavorite:this.handleToggleFavorite,isFavorite:this.isFavorite,title:"Aamup\xe4iv\xe4",times:[F.TIMES.morning],events:l})),i.a.createElement(g.Col,{sm:12,md:4},i.a.createElement(k,{onToggleFavorite:this.handleToggleFavorite,isFavorite:this.isFavorite,title:"Iltap\xe4iv\xe4",times:[F.TIMES.afternoon_short,F.TIMES.afternoon_long],events:l})),i.a.createElement(g.Col,{sm:12,md:4},i.a.createElement(k,{onToggleFavorite:this.handleToggleFavorite,isFavorite:this.isFavorite,title:"Keynote",times:[F.TIMES.afternoon_keynote],events:l}))))}},{key:"renderFavoritesList",value:function(){var e=this.state,t=e.events,a=e.favorites;return i.a.createElement(g.Row,null,i.a.createElement(g.Col,{sm:12},i.a.createElement(L,{favorites:a,events:t,onToggleFavorite:this.handleToggleFavorite})))}},{key:"renderLoading",value:function(){return i.a.createElement(g.Row,null,i.a.createElement(g.Col,{sm:12},i.a.createElement("p",{className:"App--loading"},"Ladataan ty\xf6pajoja...")))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showList,n=t.favorites;return i.a.createElement("div",{className:"App"},i.a.createElement(N,null),i.a.createElement(g.Container,null,i.a.createElement(g.Row,null,i.a.createElement(g.Col,{sm:12},i.a.createElement("div",{className:"App--description"},i.a.createElement("p",{className:"App--description__text"},'"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat."')))),i.a.createElement(g.Row,null,i.a.createElement(g.Col,{sm:12},i.a.createElement("div",{className:"App--toggle-view"},i.a.createElement("div",{onClick:function(){return e.setState({showList:!0})},className:"App--toggle-view__option ".concat(a?"active":"")},i.a.createElement("span",{className:"App--toggle-view__option-text"},"Selaa ty\xf6pajoja")),i.a.createElement("div",{onClick:function(){return e.setState({showList:!1})},className:"App--toggle-view__option ".concat(a?"":"active")},i.a.createElement("span",{className:"App--toggle-view__option-text"},"Omat suosikit (",n.length,")"))))),this.state.loading?this.renderLoading():a?this.renderEventList():this.renderFavoritesList()),i.a.createElement("div",{style:{height:"100px"}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(72);s.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.f2aabd14.chunk.js.map